import{B as d,C as n,D as i,E as C,G as p,L as r,M as g,N,O as T,P as D,Q as z,R as y,U as q,V,W as F,X as G,aa as B,ba as E,c as L,ca as $,da as U,ea as W,ga as H,ha as J,i as v,ia as K,j as x,ja as Q,ka as X,l as h,la as Y,m as u,ma as Z,n as _,pa as tt,qa as et,ta as b,ua as w,v as R,va as it,w as c,wa as j,x as m,ya as nt,z as I}from"./chunk-N2BYZKN7.js";import{g as k}from"./chunk-J4ZR5Y2S.js";var S=(()=>{class t{httpServicio;constructor(e){this.httpServicio=e}iniciarSesion(e,o,a){return this.httpServicio.get(`${j.urlBaseCongresoEmprendimiento}/${a}/${o}/${e}`)}obtenerInstituciones(){return this.httpServicio.get(`${j.urlBaseCongresoEmprendimiento}/institucionesEducativas/obtenerInstitucionesEducativas`)}static \u0275fac=function(o){return new(o||t)(h(G))};static \u0275prov=v({token:t,factory:t.\u0275fac})}return t})();var M=(()=>{class t{constructor(){}iniciarSesion(e,o){localStorage.setItem("user",JSON.stringify({email:e,documentId:o}))}estaAutenticado(){return localStorage.getItem("user")!==null}cerrarSesion(){localStorage.removeItem("user")}static \u0275fac=function(o){return new(o||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ut(t,A){t&1&&(n(0,"div",23)(1,"small"),r(2," El correo electr\xF3nico es requerido. "),i()())}function pt(t,A){t&1&&(n(0,"div",23)(1,"small"),r(2," El documento de identidad es requerido. "),i()())}var O=(()=>{class t{fb;router;administracionServicio;alertaServicio;autenticacionServicio;loginForm;constructor(e,o,a,s,l){this.fb=e,this.router=o,this.administracionServicio=a,this.alertaServicio=s,this.autenticacionServicio=l,this.loginForm=this.fb.group({perfil:["",E.required],correo:["",[E.required,E.email]],documentoIdentidad:["",[E.required]]})}iniciarSesion(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let e=this.loginForm.get("perfil")?.value,o=this.loginForm.get("correo")?.value,a=this.loginForm.get("documentoIdentidad")?.value,s="";e==="Administrador"?s="administrador/loginAdministrador":e==="Evaluador"&&(s="evaluador/loginEvaluador"),this.administracionServicio.iniciarSesion(o,a,s).subscribe(l=>{l.data?(this.autenticacionServicio.iniciarSesion(o,a),this.navegarRuta("/administracion/opciones")):this.alertaServicio.alertaError({titulo:"Administraci\xF3n",texto:"Ocurri\xF3 un error inesperado tratando de autenticar al usuario",redireccionar:!0,urlRedireccion:"/"})})}cerrarSesion(){this.autenticacionServicio.cerrarSesion(),this.router.navigate(["/"])}navegarRuta(e){this.router.navigate([e])}static \u0275fac=function(o){return new(o||t)(m(Z),m(b),m(S),m(it),m(M))};static \u0275cmp=u({type:t,selectors:[["app-login"]],decls:37,vars:4,consts:[[1,"container","mt-5"],["novalidate","",3,"ngSubmit","formGroup"],[1,"p-3","mb-3"],[1,"row","justify-content-center"],[1,"col-md-5","mb-2"],[1,"card"],[1,"card-header","text-center"],[1,"card-body"],[1,"mb-3"],["for","perfil",1,"form-label"],["id","perfil","formControlName","perfil",1,"form-select"],["value","","disabled","","selected",""],["value","Administrador"],["value","Evaluador"],["for","correo",1,"form-label"],["placeholder","Ingresa tu correo","type","email","id","correo","formControlName","correo","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","documentoIdentidad",1,"form-label"],["type","text","placeholder","Ingresa tu documento de identidad","id","documentoIdentidad","formControlName","documentoIdentidad","required","",1,"form-control"],[1,"row","justify-content-center","mt-3"],[1,"col-md-2","mb-4"],["type","submit",1,"btn","btn-primary","btn-login","w-100",3,"disabled"],["type","submit",1,"btn","btn-primary","btn-login","w-100",3,"click"],[1,"text-danger"]],template:function(o,a){if(o&1&&(n(0,"div",0)(1,"form",1),p("ngSubmit",function(){return a.iniciarSesion()}),n(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4"),r(8,"Iniciar Sesi\xF3n"),i()(),n(9,"div",7)(10,"div",8)(11,"label",9),r(12,"Perfil"),i(),n(13,"select",10)(14,"option",11),r(15,"Selecciona una opci\xF3n"),i(),n(16,"option",12),r(17,"Administrador"),i(),n(18,"option",13),r(19,"Evaluador"),i()()(),n(20,"div",8)(21,"label",14),r(22,"Correo Electr\xF3nico"),i(),C(23,"input",15),I(24,ut,3,0,"div",16),i(),n(25,"div",8)(26,"label",17),r(27,"Documento de Identidad"),i(),C(28,"input",18),I(29,pt,3,0,"div",16),i()()()()(),n(30,"div",19)(31,"div",20)(32,"button",21),r(33,"Iniciar Sesi\xF3n"),i()(),n(34,"div",20)(35,"button",22),p("click",function(){return a.navegarRuta("/")}),r(36,"Regresar"),i()()()()()()),o&2){let s,l;c(),d("formGroup",a.loginForm),c(23),d("ngIf",((s=a.loginForm.get("correo"))==null?null:s.invalid)&&((s=a.loginForm.get("correo"))==null?null:s.touched)),c(5),d("ngIf",((l=a.loginForm.get("documentoIdentidad"))==null?null:l.invalid)&&((l=a.loginForm.get("documentoIdentidad"))==null?null:l.touched)),c(3),d("disabled",a.loginForm.invalid)}},dependencies:[V,W,Q,X,B,K,$,U,Y,H,J],styles:[".btn-login[_ngcontent-%COMP%]{background:#2c5c85}.btn-login[_ngcontent-%COMP%]:hover{background-color:#659ccc;border-color:#659ccc}"]})}return t})();var ct=(()=>{class t{route;active="top";constructor(e){this.route=e}navegarRuta(e){this.route.navigate([e])}static \u0275fac=function(o){return new(o||t)(m(b))};static \u0275cmp=u({type:t,selectors:[["app-inicio-administracion"]],decls:50,vars:0,consts:[[1,"container-fluid","contenedor-administracion"],[1,"row"],[1,"ms-sm-auto","col-lg-12","p-4","px-md-4"],[1,"d-flex","justify-content-between","flex-wrap","flex-md-nowrap","align-items-center","pt-3","pb-2","mb-3","border-bottom"],[1,"titulo-adminstracion"],[1,"content","p-3"],[1,"col-md-6"],[1,"card","mb-4","shadow-sm","text-center","opciones-administracion"],[1,"card-body"],[1,"card-title"],[1,"card","mb-4","shadow-sm","text-center","opciones-administracion","sin-fondo"],[1,"card-title",3,"click"],[1,"content"]],template:function(o,a){o&1&&(n(0,"div",0)(1,"div",1)(2,"main",2)(3,"div",3)(4,"h4",4),r(5,"Administraci\xF3n"),i()(),n(6,"div",5)(7,"div",1)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h5",9),r(12,"Listar Emprendimientos"),i()()()(),n(13,"div",6)(14,"div",7)(15,"div",8)(16,"h5",9),r(17,"Asignar Evaluador"),i()()()()(),n(18,"div",1)(19,"div",6)(20,"div",10)(21,"div",8)(22,"h5",11),p("click",function(){return a.navegarRuta("/administracion/opciones/registro-institucion")}),r(23,"Registrar Instituciones"),i()()()(),n(24,"div",6)(25,"div",10)(26,"div",8)(27,"h5",11),p("click",function(){return a.navegarRuta("/administracion/opciones/lista-instituciones")}),r(28,"Listar Instituciones"),i()()()()(),n(29,"div",1)(30,"div",6)(31,"div",7)(32,"div",8)(33,"h5",9),r(34,"Registrar Evaluador"),i()()()(),n(35,"div",6)(36,"div",7)(37,"div",8)(38,"h5",9),r(39,"Listar Evaluador"),i()()()()()(),n(40,"div",12),C(41,"br")(42,"br")(43,"br")(44,"br")(45,"br")(46,"br")(47,"br")(48,"br")(49,"br"),i()()()())},styles:[".opciones-administracion[_ngcontent-%COMP%]{background:linear-gradient(180deg,#bfe0ff 28%,#a887e9);font-size:12px;color:#686868;cursor:pointer}.opciones-administracion.sin-fondo[_ngcontent-%COMP%]{background:#fff}.titulo-adminstracion[_ngcontent-%COMP%]{color:#686868;font-weight:700}"]})}return t})();var P=(()=>{class t{autenticacionServicio;router;constructor(e,o){this.autenticacionServicio=e,this.router=o}canActivate(){return this.autenticacionServicio.estaAutenticado()?!0:(this.router.navigate(["/"]),!1)}static \u0275fac=function(o){return new(o||t)(h(M),h(b))};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var st=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=u({type:t,selectors:[["app-registro-institucion"]],standalone:!0,features:[y],decls:2,vars:0,template:function(o,a){o&1&&(n(0,"p"),r(1,"registro-institucion works!"),i())}})}return t})();function gt(t,A){if(t&1&&(n(0,"tr")(1,"td",9),r(2),i(),n(3,"td",9),r(4),i(),n(5,"td",9),r(6),i(),n(7,"td",9),r(8),i(),n(9,"td",9),r(10),i(),n(11,"td",9),r(12),i(),n(13,"td",9)(14,"a",10),r(15),i()()()),t&2){let e=A.$implicit;c(2),g(e.nombre),c(2),g(e.nombrePais),c(2),g(e.regionDepartamento),c(2),g(e.nombreLiderIES),c(2),g(e.correoContacto),c(2),g(e.telefonoContacto),c(2),d("href",e.urlOficial,R),c(),g(e.urlOficial)}}var lt=(()=>{class t{administracionServicio;instituciones=[];paises=[];institucionesPaginadas=[];pagina=1;tamanoPagina=10;totalItems=0;constructor(e){this.administracionServicio=e}ngOnInit(){this.obtenerInstituciones()}obtenerInstituciones(){return k(this,null,function*(){let e=yield L(this.administracionServicio.obtenerInstituciones());this.instituciones=e.data,this.totalItems=this.instituciones.length,this.actualizarPaginacionInstituciones()})}actualizarPaginacionInstituciones(){let e=(this.pagina-1)*this.tamanoPagina,o=e+this.tamanoPagina;this.institucionesPaginadas=this.instituciones.slice(e,o)}onCambioPagina(e){this.pagina=e,this.actualizarPaginacionInstituciones()}static \u0275fac=function(o){return new(o||t)(m(S))};static \u0275cmp=u({type:t,selectors:[["app-lista-instituciones"]],standalone:!0,features:[y],decls:29,vars:5,consts:[[1,"container","mt-4"],[1,"card","mb-4","p-3","justify-content"],[1,"card","mb-4","p-3"],[1,"table","table-light","table-striped","table-sm","tabla-institucion"],[1,"table"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[3,"pageChange","collectionSize","page","pageSize"],[1,"text-end"],[1,"tabla-td"],["target","_blank",3,"href"]],template:function(o,a){o&1&&(n(0,"div",0)(1,"div",1)(2,"h4"),r(3,"Lista de Instituciones"),i()(),n(4,"div",2)(5,"table",3)(6,"thead",4)(7,"tr")(8,"th"),r(9,"Nombre"),i(),n(10,"th"),r(11,"Pa\xEDs"),i(),n(12,"th"),r(13,"Departamento"),i(),n(14,"th"),r(15,"L\xEDder"),i(),n(16,"th"),r(17,"Correo"),i(),n(18,"th"),r(19,"Tel\xE9fono"),i(),n(20,"th"),r(21,"URL Sitio"),i()()(),n(22,"tbody"),I(23,gt,16,8,"tr",5),i()()(),n(24,"div",6)(25,"ngb-pagination",7),z("pageChange",function(l){return D(a.pagina,l)||(a.pagina=l),l}),p("pageChange",function(l){return a.onCambioPagina(l)}),i(),n(26,"div",8)(27,"span"),r(28),i()()()()),o&2&&(c(23),d("ngForOf",a.institucionesPaginadas),c(2),d("collectionSize",a.instituciones.length),T("page",a.pagina),d("pageSize",a.tamanoPagina),c(3),N("Total de registros: ",a.totalItems,""))},dependencies:[et,tt,F,q],styles:["table[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.tabla-td[_ngcontent-%COMP%]{font-size:12px}.active[_ngcontent-%COMP%] > .page-link[_ngcontent-%COMP%], .page-link.active[_ngcontent-%COMP%]{background:#2c5c85}.active[_ngcontent-%COMP%] > .page-link[_ngcontent-%COMP%]:hover, .page-link.active[_ngcontent-%COMP%]:hover{background-color:#659ccc;border-color:#659ccc}"]})}return t})();var ft=[{path:"",component:O},{path:"login",component:O},{path:"opciones",canActivate:[P],component:ct},{path:"opciones/registro-institucion",canActivate:[P],component:st},{path:"opciones/lista-instituciones",canActivate:[P],component:lt}],mt=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=_({type:t});static \u0275inj=x({imports:[w.forChild(ft),w]})}return t})();var $t=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=_({type:t});static \u0275inj=x({providers:[S],imports:[F,nt,mt]})}return t})();export{$t as AdministracionModule};
